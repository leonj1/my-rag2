#!/bin/bash

# Exit on any error
set -e

echo "Running pre-commit checks..."

# Run tests
echo "Running tests..."
python -m pytest tests/

# Run linting
echo "Running linting..."
if command -v black &> /dev/null; then
    black --check app/
else
    echo "Warning: black not found. Skipping code formatting check."
fi

if command -v flake8 &> /dev/null; then
    flake8 app/
else
    echo "Warning: flake8 not found. Skipping code style check."
fi

# All checks passed
echo "âœ“ All pre-commit checks passed"
exit 0
